<!--
    Authors:
        - Michael Hills
        - Kate Belson
        - Jack Purkiss 
-->
{% extends 'base.html' %}

<!--Author: Kate Belson-->
<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
</head>  


{% block filter %}

{% include 'sidebar.html' %}
    
{% endblock %}

{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'StyleSheet.css'%}">

<h1 id="title">{{challenge.name}}</h1>

<div>
    {% for response in responses %}
            <div class="challenge">
                <div id="profile-pic"  style="float:left">
                    <img class="rounded-circle account-img" src="{{ response.user.profile.picture.url }}" width="100" height="100"></img>
                </div>
                <p> <a href = "{% url 'userResponses' response.user.id %}">{{response.user.username}}</a></p>
                <a href="{% url 'reportAPost' response.id %}" class="button">Report Post</a>
                <img id="chal-photo" src="{{ response.photograph.url }}" alt="image" />
                <br>
                <small>{{response.description}} </small> <br>
                {% include 'like.html' %}
                <small>Comments: </small>
                <small><a href="{% url 'createComments' response.id %}">Add Comment</a></small>
                
                <hr>

                {% if not response.comments.all %}
                    <small>No comments yet</small>

                {%else%}
                <small><a href="{% url 'viewComments' response.id %}">See All Comments</a></small>
                    <div  style= "height: 100px; overflow-y: scroll;" >
            
                        {% for comment in comments %}
                    
                            {% if comment.response == response %}
                    
                            <small> <a  href="{% url 'userResponses' comment.user.id%}">{{comment.user}}</a> {{comment.text}} </small>
                            <br>

                            {% endif %}

                        {% endfor %}

                {% endif %}


            </div>
            </div>
        {% endfor %}
</div>

{% endblock %}


</html>